!function(e){var t={};function o(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){const n=o(1),s=o(3);$((function(){$("button.follow-toggle").each((e,t)=>{new n(t)}),$("nav.users-search").each((e,t)=>{new s(t)})}))},function(e,t,o){const n=o(2);e.exports=class{constructor(e){this.$el=$(e),this.userId=this.$el.data("user-id"),this.followState=this.$el.data("initial-follow-state"),this.render(),this.$el.on("click",this.handleClick.bind(this))}render(){switch(this.followState){case"followed":this.$el.html("Unfollow"),this.$el.prop("disabled",!1);break;case"unfollowed":this.$el.html("Follow"),this.$el.prop("disabled",!1);break;case"following":case"unfollowing":this.$el.prop("disabled",!0)}}handleClick(e){e.preventDefault(),"unfollowed"===this.followState?n.followUser(this.userId).then(this.successFunction.bind(this)):n.unfollowUser(this.userId).then(this.successFunction.bind(this))}successFunction(){"unfollowed"===this.followState?(this.followState="followed",this.render()):(this.followState="unfollowed",this.render())}}},function(e,t){const o={followUser:e=>$.ajax({method:"POST",url:`/users/${e}/follow`,dataType:"json"}),unfollowUser:e=>$.ajax({method:"DELETE",url:`/users/${e}/follow`,dataType:"json"}),searchUsers:e=>$.ajax({method:"GET",data:{queryVal:e},url:"/users/search",dataType:"json"})};e.exports=o},function(e,t,o){const n=o(2);e.exports=class{constructor(e){this.$el=$(e),this.$input=this.$el.find("#user-text"),this.$ul=this.$el.find(".users"),this.$input.on("input",this.handleInput.bind(this))}handleInput(e){n.searchUsers(this.$input.val()).then(e=>{this.renderResults(e)})}renderResults(e){this.$ul.empty();for(let t=0;t<e.length;t++){const o=$("<li>"),n=$("<a>");n.text(`${e[t]}`),n.attr("href",`/users/${user[t].id}`),o.append(n),this.$ul.append(o)}}}}]);
//# sourceMappingURL=bundle.js.map